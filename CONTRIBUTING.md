# Contributing to marklogic-unit-test

marklogic-unit-test welcomes new contributors. This document will guide you through the process.

 - [Building and Testing](#building)
 - [Issues and Bugs](#issue)
 - [Feature Requests](#feature)
 - [Submission Guidelines](#submit)

## <a name="building"></a> Building and Testing

After cloning this repository (or a fork of it), you can build and run the tests for marklogic-unit-test
locally.

Then create a Docker MarkLogic container, deploy the test-app to the container, and then run the tests via
the following steps:

```
docker compose up -d --build
./gradlew mlDeploy
./gradlew test
```

The `mlDeploy` task will deploy a test application to your MarkLogic container. Then the `test` task will run
a set of tests with this application. The test application will include a MarkLogic app server on port 8003, 
which is defined by the `mlRestPort` property in test-app/gradle.properties. Some tests in the
marklogic-junit5 subproject will also hit the MarkLogic App-Services app server on port 8000.

After running `./gradlew test`, you can also point your browser at http://localhost:8003/test to access the 
marklogic-unit-test UI for running tests. 

## Testing the documentation locally

The docs for this project are stored in the `./docs` directory as a set of Markdown files. These are published via
[GitHub Pages](https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages) using the
configuration found under "Settings / Pages" in this repository.

You can build and test the docs locally by
[following these GitHub instructions](https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/testing-your-github-pages-site-locally-with-jekyll),
though you don't need to perform all of those steps since some files generated by doing so are already in the
`./docs` directory. You just need to do the following:

1. Install the latest Ruby (rbenv works well for this).
2. Install Jekyll.
3. Go to the docs directory - `cd ./docs` .
4. Run `bundle install` (this may not be necessary due to Gemfile.lock being in version control).
5. Run `bundle exec jekyll serve`.

You can then go to http://localhost:4000 to view the docs. 
